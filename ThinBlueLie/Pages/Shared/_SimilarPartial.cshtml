@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@using DataAccessLibrary.Enums;
@{
    var Time = new List<ViewModels.ViewSimilar>();
    var SimilarEvents = ViewData["SimilarEvents"] as List<object>;
    if (SimilarEvents.Count != 0)
    {
        Time = (List<ViewModels.ViewSimilar>)ViewData["SimilarEvents"];
    }
    else
    {
        Time = null;
    }
    Layout = null;
    string TruncateString(string str)
    {
        const int MaxLength = 100;
        var name = str;
        if (name.Length > MaxLength)
        {
            name = name.Substring(0, MaxLength);
            name = name + "...";
        }
        return name;
    }
}


<style>
    p {
        margin-bottom: 2rem;
    }
</style>
@*<div id="div_Loader" class="mt-3">
        <img src="/Assets/Loading.gif" style="width: 150px; height: 150px;" alt="loader" />
    </div>*@
@if (Time == null)
{
    <div class="container mt-2" style="min-height:100px;">
        <h5>There are no similar or duplicate Events!</h5>
    </div>
}
@if (Time != null)
{
    @foreach (var Similar in Time)
    {
        <div id="likeVideos">
            <div class="card border-dark mb-3 ml-1">
                <div class="card-header">@Similar.Timelineinfo.Date</div>
                <div class="card-body text-dark row">
                    <div class="col-6">
                        <p><strong>Location:</strong> @Enum.GetName(typeof(TimelineinfoEnums.StateEnum), Similar.Timelineinfo.State), @Similar.Timelineinfo.City</p>
                        <p><strong>Subject:</strong> @*@Similar.SubjectName*@</p>
                        <p><strong>Officer:</strong> @*@Similar.OfficerName*@</p>
                    </div>
                    <div class="col-6">
                        <div style="border-radius:3px; width:100%;" class="embed-responsive embed-responsive-2by1">
                            <iframe class="embed-responsive-item border"
                                    src="https://www.youtube.com/embed/WNKF8rbl2uA" allowfullscreen>
                            </iframe>
                        </div>
                    </div>
                    <div>
                        <p class="px-4 mb-0" style="text-indent:-.5rem;"><strong>Context:</strong> @TruncateString(Similar.Timelineinfo.Context)</p>
                    </div>
                </div>
            </div>
        </div>
    }
}



