@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@using static ThinBlueLie.Models.TimelineinfoEnums;
@{
    var Time = ViewData["SimilarEvents"] as List<ThinBlue.Timelineinfo>;
    Layout = null;
    string TruncateString(string str)
    {
        const int MaxLength = 100;
        var name = str;
        if (name.Length > MaxLength)
        {
            name = name.Substring(0, MaxLength);
            name = name + "...";
        }
        return name;
    }
}

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<style>
    p {
        margin-bottom: 2rem;
    }
</style>
@*<div id="div_Loader" class="mt-3">
    <img src="/Assets/Loading.gif" style="width: 150px; height: 150px;" alt="loader" />
</div>*@
@if (Time.Count == 0) { 
    <div class="container mt-2" style="min-height:100px;">
        <h5>There are no similar or duplicate Events!</h5>
    </div>
}
@foreach (var Similar in Time)
{
    <div id="likeVideos">
        <div class="card border-dark mb-3 ml-1">
            <div class="card-header">@Similar.Date</div>
            <div class="card-body text-dark row">
                <div class="col-6">
                    <p><strong>Location:</strong> @Enum.GetName(typeof(StateEnum), Similar.State), @Similar.City</p>
                    <p><strong>Subject:</strong> @*@Similar.SubjectName*@</p>
                    <p><strong>Officer:</strong> @*@Similar.OfficerName*@</p>                    
                </div>
                <div class="col-6">
                    <div style="border-radius:3px; width:100%;" class="embed-responsive embed-responsive-2by1">
                        <iframe class="embed-responsive-item border"
                                src="https://www.youtube.com/embed/WNKF8rbl2uA" allowfullscreen>
                        </iframe>
                    </div>
                </div>
                <div>
                    <p class="px-4 mb-0" style="text-indent:-.5rem;"><strong>Context:</strong> @TruncateString(Similar.Context)</p>
                </div>
            </div>
        </div>
    </div>
}

